<!doctype html>
<html ng-app="test">
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
.more {width:300px; height:60px; line-height:20px; overflow:hidden; border:1px solid black;}
.more2 {width:300px; line-height:20px; overflow:hidden; border:1px solid black;}
</style>
<script src="angular.js"></script>
<script>
    var app=angular.module('test', []);
    app.controller('main', function ($scope){
        $scope.show=false;
    });
    app.directive('showmore', function (){
        return {
            restrict: 'E',
            template:'<div class="{{show?\'more2\':\'more\'}}">' +
            '<a href="javascript:;" ng-click="show=!show">显示更多</a>' +
            '<span ng-transclude></span></div>',
            transclude: true
        };
    });
</script>
</head>

<body>
<showmore>
大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf大段文字大段文字大段文字asasfsdf
</showmore>
</body>
</html>
